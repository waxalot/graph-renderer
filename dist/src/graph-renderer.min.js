!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(11);document.addEventListener("DOMContentLoaded",function(e){var t=new r.GraphNode(new r.Point(100,100),new r.Size(50,50)),n=new r.GraphNode(new r.Point(400,300),new r.Size(50,50));t.addConnection(n);var i=new r.Graph;i.addNode(t),i.addNode(n);var s=document.getElementById("graph-container"),u=new o.SVGViewModelsFactory,c=u.createGraphViewModel(i),a=new o.SVGRenderersFactory,d=a.createGraphRenderer();d.setContainerElement(s),d.render(c)})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(3)),r(n(5)),r(n(6)),r(n(4)),r(n(8)),r(n(7)),r(n(9)),r(n(10))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.segments=new Array}return e}();t.Curve=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(){function e(){this.startPos=new r.Point,this.endPos=new r.Point,this.ctrlPos1=new r.Point,this.ctrlPos2=new r.Point}return e}();t.CurveSegment=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e}();t.Point=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.nodes=new Array}return e.prototype.addNode=function(e){this.nodes.push(e)},e.prototype.getNodes=function(){return(new Array).concat(this.nodes)},e}();t.Graph=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(7),i=function(){function e(e,t){this.position=e,this.size=t,this.size||(this.size=new r.Size),this.connections=new Array}return e.prototype.addConnection=function(e){var t=new o.Edge(this,e);this.connections.push(t)},e.prototype.getConnections=function(){return(new Array).concat(this.connections)},e}();t.GraphNode=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){if(!e)throw new ReferenceError('The argument "sourceNode" is null or undefined.');if(!t)throw new ReferenceError('The argument "targetNode" is null or undefined.');this.sourceNode=e,this.targetNode=t}return e}();t.Edge=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.width=e,this.height=t}return e}();t.Size=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.newGuid=function(){return e.s4()+e.s4()+"-"+e.s4()+"-"+e.s4()+"-"+e.s4()+"-"+e.s4()+e.s4()+e.s4()},e.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e}();t.Guid=n},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(12)),r(n(21))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=function(){function e(){}return e.prototype.createGraphRenderer=function(){var e=this.createNodeRenderer(),t=this.createEdgeRenderer();return new r.SVGGraphRenderer(e,t)},e.prototype.createNodeRenderer=function(){return new r.SVGNodeRenderer},e.prototype.createEdgeRenderer=function(){return new r.SVGEdgeRenderer},e}();t.SVGRenderersFactory=o},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(14)),r(n(15)),r(n(18)),r(n(19)),r(n(20))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();t.Renderer=n},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(16),s=n(17),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.createTargetElement=function(e,t){e?t||s.Utils.throwReferenceError("viewModel"):s.Utils.throwReferenceError("elementName");var n;try{n=document.createElementNS("http://www.w3.org/2000/svg",e),i.SVGUtils.setGuidAttribute(n,t)}catch(e){n=null}return n},t}(o.Renderer);t.SVGRenderer=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=function(){function e(){}return e.setGuidAttribute=function(e,t){e?t||r.Utils.throwReferenceError("viewModel"):r.Utils.throwReferenceError("targetElement"),e.setAttribute("data-graph-guid",t.guid)},e}();t.SVGUtils=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.throwReferenceError=function(e){throw new ReferenceError('The argument "'+e+'" was null or undefined.')},e}();t.Utils=n},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(15),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setContainerElement=function(e){e||o.Utils.throwReferenceError("containerElement"),this.containerElement=e},t.prototype.render=function(e){if(!this.containerElement)throw new Error("No container element was set. Call setContainerElement() before!");var t=this.createTargetElement("rect",e);t.classList.add("graph-node"),t.classList.add("graph-draggable"),t.onmousedown=e.mouseDownHandler,t.setAttribute("transform","matrix(1 0 0 1 0 0)"),e.position&&(t.setAttribute("x",e.position.x.toFixed()),t.setAttribute("y",e.position.y.toFixed())),e.size&&(t.setAttribute("width",e.size.width.toFixed()),t.setAttribute("height",e.size.height.toFixed())),this.containerElement.appendChild(t)},t}(i.SVGRenderer);t.SVGNodeRenderer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(13),s=function(e){function t(t,n){var r=e.call(this)||this;if(!t)throw new ReferenceError('The argument "nodeRenderer" is null or undefined.');if(!n)throw new ReferenceError('The argument "edgeRenderer" is null or undefined.');return r.nodeRenderer=t,r.edgeRenderer=n,r}return r(t,e),t.prototype.setContainerElement=function(e){e||o.Utils.throwReferenceError("containerElement"),this.containerElement=e},t.prototype.render=function(e){var t=this;if(!this.containerElement)throw new Error("No container element was set. Call setContainerElement() before!");var n=this.createTargetElement("svg",e);n.setAttribute("width","800"),n.setAttribute("height","600"),n.setAttribute("viewbox","0 0 800, 600"),n.classList.add("graph"),this.containerElement.appendChild(n),e.connections&&e.connections.length>0&&e.connections.forEach(function(e){t.edgeRenderer.setContainerElement(n),t.edgeRenderer.render(e)}),e.nodes&&e.nodes.length>0&&e.nodes.forEach(function(e){t.nodeRenderer.setContainerElement(n),t.nodeRenderer.render(e)})},t}(i.SVGRenderer);t.SVGGraphRenderer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n(17),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setContainerElement=function(e){e||i.Utils.throwReferenceError("containerElement"),this.containerElement=e},t.prototype.render=function(e){if(!this.containerElement)throw new Error("No container element was set. Call setContainerElement() before!");var t=this.createTargetElement("line",e);t.classList.add("graph-edge"),e.startPoint&&(t.setAttribute("x1",e.startPoint.x.toFixed()),t.setAttribute("y1",e.startPoint.y.toFixed())),e.endPoint&&(t.setAttribute("x2",e.endPoint.x.toFixed()),t.setAttribute("y2",e.endPoint.y.toFixed())),this.containerElement.appendChild(t)},t}(o.SVGRenderer);t.SVGEdgeRenderer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=function(){function e(){}return e.prototype.createGraphViewModel=function(e){var t=new r.SVGGraphViewModel;return t.init(e),t},e}();t.SVGViewModelsFactory=o},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(23)),r(n(24)),r(n(25)),r(n(26))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){this.guid=r.Guid.newGuid()}return e}();t.SVGViewModel=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=n(17),s=function(e){function t(){var t=e.call(this)||this;return t.nodes=new Array,t.connections=new Array,t}return r(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this.graph.size},set:function(e){this.graph.size=e},enumerable:!0,configurable:!0}),t.prototype.init=function(e){e||i.Utils.throwReferenceError("graph"),this.graph=e,this.initNodes()},t.prototype.initNodes=function(){var e=this,t=this.graph.getNodes();t&&t.length>0&&t.forEach(function(t){var n=new o.SVGNodeViewModel;n.init(t),e.nodes.push(n);var r=t.getConnections();r&&r.length>0&&r.forEach(function(t){var n=new o.SVGEdgeViewModel;n.init(t),e.connections.push(n)})})},t}(o.SVGViewModel);t.SVGGraphViewModel=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=n(1),s=n(17),u=function(e){function t(){var t=e.call(this)||this;return t.mouseDownHandler=function(e){var n=e.srcElement;t.currentMoveX=e.clientX,t.currentMoveY=e.clientY;for(var r=n.getAttributeNS(null,"transform").slice(7,-1).split(" "),o=r.length,i=0;i<o;i++)t.currentTransformMatrix[i]=parseFloat(r[i]);n.onmousemove=function(e){var r=e.clientX-t.currentMoveX,o=e.clientY-t.currentMoveY;t.currentTransformMatrix[4]+=r,t.currentTransformMatrix[5]+=o;var i="matrix("+t.currentTransformMatrix.join(" ")+")";n.setAttributeNS(null,"transform",i),t.currentMoveX=e.clientX,t.currentMoveY=e.clientY},n.onmouseup=function(e){n.onmousemove=null,n.onmouseout=null,n.onmouseup=null}},t.connections=new Array,t._currentMovePosition=new i.Point,t.currentTransformMatrix=new Array,t}return r(t,e),Object.defineProperty(t.prototype,"currentMoveX",{get:function(){return this._currentMovePosition.x},set:function(e){this._currentMovePosition.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMoveY",{get:function(){return this._currentMovePosition.y},set:function(e){this._currentMovePosition.y=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.node.position},set:function(e){this.node.position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.node.size},set:function(e){this.node.size=e},enumerable:!0,configurable:!0}),t.prototype.init=function(e){e||s.Utils.throwReferenceError("node"),this.node=e,this.initEdges()},t.prototype.initEdges=function(){var e=this,t=this.node.getConnections();t&&t.length>0&&t.forEach(function(t){var n=new o.SVGEdgeViewModel;n.init(t),e.connections.push(n)})},t}(o.SVGViewModel);t.SVGNodeViewModel=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=n(1),s=n(17),u=function(e){function t(){var t=e.call(this)||this;return t._startPoint=new i.Point,t._endPoint=new i.Point,t}return r(t,e),Object.defineProperty(t.prototype,"startPoint",{get:function(){return this._startPoint.x=this.edge.sourceNode.position.x+.5*this.edge.sourceNode.size.width,this._startPoint.y=this.edge.sourceNode.position.y+.5*this.edge.sourceNode.size.height,this._startPoint},set:function(e){this._startPoint=e,this.edge.sourceNode.position.x=this._startPoint.x-.5*this.edge.sourceNode.size.width,this.edge.sourceNode.position.y=this._startPoint.y-.5*this.edge.sourceNode.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this._endPoint.x=this.edge.targetNode.position.x+.5*this.edge.targetNode.size.width,this._endPoint.y=this.edge.targetNode.position.y+.5*this.edge.targetNode.size.height,this._endPoint},set:function(e){this._endPoint=e,this.edge.targetNode.position.x=this._endPoint.x-.5*this.edge.targetNode.size.width,this.edge.targetNode.position.y=this._endPoint.y-.5*this.edge.targetNode.size.height},enumerable:!0,configurable:!0}),t.prototype.init=function(e){e||s.Utils.throwReferenceError("edge"),this.edge=e},t}(o.SVGViewModel);t.SVGEdgeViewModel=u}]);